(this["webpackJsonpmaps-exercise"]=this["webpackJsonpmaps-exercise"]||[]).push([[0],{149:function(e,t,n){"use strict";n.r(t);var a,c,i,r,s,o,l=n(0),d=n.n(l),u=n(4),j=n.n(u),p=(n(73),n(74),n(19)),b=n.n(p),O=n(29),g=n(8),f=n(9),m=n(35),v=n(10),x=n(31),h=n(6),y=n(2),w={lat:10.3005178,lng:123.8861904},C=v.a.div(a||(a=Object(f.a)(["\n  display: flex;\n  height: 100vh;\n"]))),S=v.a.div(c||(c=Object(f.a)(["\n  height: 100%;\n  width: 100%;\n"]))),k=v.a.div(i||(i=Object(f.a)(["\n  width: 500px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n"])));function M(e){var t=e.className,n=Object(l.useState)(null),a=Object(g.a)(n,2),c=a[0],i=a[1],r=Object(l.useState)([]),s=Object(g.a)(r,2),o=s[0],d=s[1],u=Object(l.useState)(!1),j=Object(g.a)(u,2),p=j[0],f=j[1],v=Object(l.useState)(),M=Object(g.a)(v,2),D=M[0],L=M[1],E=Object(l.useState)(),R=Object(g.a)(E,2),T=R[0],P=R[1],N=Object(l.useState)(),A=Object(g.a)(N,2),G=A[0],_=A[1],K=Object(l.useState)(),W=Object(g.a)(K,2),z=W[0],B=W[1],J=Object(x.usePosition)(!0),U=J.latitude,V=J.longitude,q=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&c.maps&&D&&(t=c.maps,D.textSearch({query:"Restaurants in Cebu City",type:"restaurant"},(function(e,n){var a=[];n===t.places.PlacesServiceStatus.OK&&e.forEach((function(e){a.push({address:e.formatted_address,name:e.name,location:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},placeId:e.place_id})})),d(a)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(e){if(c&&c.maps&&c.map){G.setMap(c.map);var t={origin:new c.maps.LatLng(U,V),destination:new c.maps.LatLng(e.location.lat,e.location.lng),travelMode:"DRIVING"};T.route(t,(function(e,t){"OK"===t&&G.setDirections(e)}))}};return Object(l.useEffect)((function(){if(z&&c&&c.map&&c.maps){var e=c.map,t=c.maps;p?z.setMap(e):z.setMap(null),t.event.addListener(z,"overlaycomplete",(function(e){var n=e.overlay.getBounds();D.textSearch({type:"restaurant",bounds:n},(function(n,a){var c=[];a===t.places.PlacesServiceStatus.OK&&n.forEach((function(e){c.push({address:e.formatted_address,name:e.name,location:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})})),d(c),e.overlay.setMap(null)}))}))}}),[p,c,null===c||void 0===c?void 0:c.map,null===c||void 0===c?void 0:c.maps,z,D]),Object(y.jsxs)(C,{className:t,children:[Object(y.jsx)(S,{children:Object(y.jsx)(m.a,{bootstrapURLKeys:{key:"AIzaSyCrWA0GMWAD5vVLl1z6fmwlNgQoTINGm34",libraries:["places","drawing"]},center:w,defaultZoom:14,onGoogleApiLoaded:function(e){return function(e){if(i(e),e&&e.map&&e.maps){var t=e.map,n=e.maps;L(new n.places.PlacesService(t)),P(new n.DirectionsService),_(new n.DirectionsRenderer),B(new n.drawing.DrawingManager({drawingMode:n.drawing.OverlayType.CIRCLE,drawingControl:!0,drawingControlOptions:{position:n.ControlPosition.TOP_CENTER,drawingModes:[n.drawing.OverlayType.CIRCLE,n.drawing.OverlayType.RECTANGLE]}}))}}(e)},yesIWantToUseGoogleMapApiInternals:!0,children:o&&o.map((function(e,t){return Object(y.jsx)(I,{restaurant:e,lat:e.location.lat,lng:e.location.lng,onDirectionClick:Q},"restaurant-"+t)}))})}),Object(y.jsxs)(k,{children:[Object(y.jsx)(h.a,{unelevated:!0,style:{margin:8},onClick:q,children:"Show Restaurants in Cebu"}),Object(y.jsx)(h.a,{unelevated:!p,style:{margin:8},onClick:function(){f(!p)},children:p?"Toggle off Draw Mode":"Draw Polygon"}),Object(y.jsx)("div",{style:{flex:1}}),Object(y.jsx)(h.a,{danger:!0,style:{margin:8},onClick:function(){G.setMap(null)},children:"Remove any existing Directions Overlay"})]})]})}var D=v.a.div(r||(r=Object(f.a)(["\n  margin-left: -24px;\n  margin-top: -24px;\n"]))),L=v.a.div(s||(s=Object(f.a)(["\n  width: 250px;\n  background: white;\n  border-radius: 3px;\n  padding: 8px;\n"]))),E=v.a.div(o||(o=Object(f.a)(["\n  display: flex;\n  align-items: stretch;\n  justify-content: stretch;\n"])));function I(e){var t=e.restaurant,n=e.onDirectionClick,a=Object(l.useState)(!1),c=Object(g.a)(a,2),i=c[0],r=c[1];return Object(y.jsx)(D,{onClick:function(e){e.stopPropagation()},children:Object(y.jsxs)(h.d,{children:[Object(y.jsx)(h.c,{open:i,onClose:function(){return r(!1)},children:Object(y.jsxs)(L,{children:[Object(y.jsxs)(E,{children:[Object(y.jsx)(h.e,{use:"headline6",children:t.name}),Object(y.jsx)("div",{style:{flex:1}}),Object(y.jsx)(h.b,{icon:"assistant_direction",onClick:function(){n(t),r(!1)}}),Object(y.jsx)(h.b,{icon:"close",onClick:function(){return r(!1)}})]}),Object(y.jsx)("hr",{}),Object(y.jsx)(h.e,{use:"caption",style:{paddingTop:16},children:t.address})]})}),Object(y.jsx)(h.b,{icon:"place",style:{color:"#ea4335"},onClick:function(e){e.stopPropagation(),r(!i)}})]})})}function R(){return Object(y.jsx)(M,{})}var T=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(R,{})})};j.a.render(Object(y.jsx)(d.a.StrictMode,{children:Object(y.jsx)(T,{})}),document.getElementById("root"))},73:function(e,t,n){}},[[149,1,2]]]);
//# sourceMappingURL=main.c9ea9ede.chunk.js.map